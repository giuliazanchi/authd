authd (0.3) noble; urgency=medium

  * New major release
  * Bump Go version to 1.22
  * Add functionality to precheck user with brokers
  * Add default group for broker users
  * Add support for passwd session mode to allow password changes
  * Implement pam_sm_chauthtok in the PAM module
  * Add GDM model implementation and tests
  * Add C module to execute the Go PAM client
  * Add timeout to gRPC connections and requests
    - NSS connections and requests
    - PAM connections
  * Stop using fullscreen view in interactive mode
  * Example and Mock brokers no longer rely on internal packages
  * Clean up log messages
  * Changes in CI and tests that do not affect package functionality:
    - Replace Rust QA check with composite action
    - Update dependency updates strategy
    - Use noninteractive debian frontend by default
    - Align coverage report with our other projects
    - Install debug symbols from launchpad if ddebs fail
    - Save test artifacts on test failures
    - Golden files are now updated with an environemnt variable
  * Update dependencies to latest:
    - Go:
      + go.etcd.io/bbolt
      + golang.org/x/term
      + google.golang.org/grpc
    - Rust:
      + cc
      + ctor
      + libnss
      + tonic
      + tonic-build
    - Tools:
      + github.com/golangci/golangci-lint
  * Packaging changes:
    - debian:
      + Clean up build process by using more debhelper features
      + Fill the built using information for rust
      + Use install file to install artifacts
      + Use dh-systemd to install systemd services
      + Install authd in /usr/libexec
      + Reduce the amount of verdored Rust crates
    - debian/control:
      + Do not install dbus if tests are disabled
      + Do not add an empty paragraph on description
      + Depend on pkgconf not on legacy pkg-config
    - debian/rules:
      + Use dh-golang features to generate our targets
      + Install files without repeating their name
      + Rely more on dh-cargo for buildling the NSS library
      + Install systemd units under /usr
      + Explicitly set GOTOOLCHAIN=local
      + Do not hardcode the authd daemons path
    - debian/source/options: Exclude rust .a files from source
    - debian/copyright: Remove superflous patterns
    - debian/vendor-rust: Use a temporary CARGO_HOME unless specified
    - debian/docs: Expose the Cargo.locks file in docs
    - debian/tests: Use a script to launch autopkgtests

 -- Denison Barbosa <denison.barbosa@canonical.com>  Wed, 28 Feb 2024 10:25:07 -0400

authd (0.2.1) noble; urgency=medium

  * Adjust Rust dependencies
    - Rollback cc to 1.83: Version 1.84 was removed due to some problems with
      other ecosystems.
    - Bump transitive dependencies to latest SemVer version to fix
      RUSTSEC-2024-0003
  * Updated dependencies:
    - Vendored deps:
      - github.com/charmbracelet/bubbles
      - github.com/google/uuid
      - google.golang.org/grpc
    - CI:
      - peter-evans/create-pull-request
      - codecov/codecov-action

 -- Denison Barbosa <denison.barbosa@canonical.com>  Mon, 05 Feb 2024 11:02:10 -0400

authd (0.2) noble; urgency=medium

  * Create and package systemd units
  * Rework broker configuration file
  * Update user info validations
    - Users now must be part of at least one remote group
  * Add encryption for exchanged challenges
  * Local groups are now cleaned when a user expires or the cache is
    cleaned
  * Remove unused values from configuration file
  * Skip NSS lookup from dbus-daemon through systemd
    - This could cause a deadlock when lookups were triggered while
      the daemon was starting up.
  * Add GDM json protocol definition and implementation
  * Refactor internal/users package
  * Add integration tests for the PAM cli protocol
  * Update package description
  * Fix lintian warnings and copyright inconsistencies
  * Reduce the ammount of log messages
  * Changes in CI that do not affect package functionality:
    - Run dependabot less frequently
    - Update test script to cover all Go packages by default
  * Update dependencies to latest
    ** Go
      - github.com/msteinert/pam
      - github.com/charmbracelet/bubbles
      - github.com/charmbracelet/bubbletea
      - github.com/google/uuid
      - github.com/spf13/viper
      - golang.org/x/term
      - google.golang.org/grpc
      - google.golang.org/protobuf
    ** Rust
      - ctor
      - libc
      - simple_logger
      - tokio
  * Update tools and CI dependencies not related to package
    functionality
      - google.golang.org/protobuf

 -- Denison Barbosa <denison.barbosa@canonical.com>  Mon, 29 Jan 2024 06:12:02 -0400

authd (0.1) noble; urgency=medium

  * Initial release

 -- Gabriel Nagy <gabriel.nagy@canonical.com>  Thu, 07 Dec 2023 10:19:51 +0200
